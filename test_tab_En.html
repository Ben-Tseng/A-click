<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page: iframe with Choice Boxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e1e4e8;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .description {
            color: #7f8c8d;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .iframe-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            padding: 20px;
        }
        
        .iframe-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .iframe-title {
            font-size: 1.4rem;
            color: #3498db;
            font-weight: 600;
        }
        
        .counter {
            background-color: #3498db;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        #questions-frame {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        
        .textbox-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            padding: 20px;
        }
        
        .textbox-header {
            font-size: 1.4rem;
            color: #2ecc71;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        #main-textbox {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            resize: vertical;
            background-color: #fafafa;
            line-height: 1.5;
        }
        
        #main-textbox:focus {
            outline: none;
            border-color: #2ecc71;
            box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.2);
        }
        
        .actions {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        #submit-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        #submit-btn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        #reset-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        #reset-btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        #clear-btn {
            background-color: #f39c12;
            color: white;
        }
        
        #clear-btn:hover {
            background-color: #d68910;
            transform: translateY(-2px);
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .actions {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            #questions-frame {
                height: 350px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Test Page: iframe with Choice Boxes</h1>
        <p class="description">This page contains an iframe with 10 Yes/No choice boxes and a main text area for displaying or entering related information. All selections will be displayed in real-time in the text area below.</p>
    </header>
    
    <div class="container">
        <div class="iframe-container">
            <div class="iframe-header">
                <div class="iframe-title">Question Selection Area</div>
                <div class="counter">10 Questions</div>
            </div>
            <iframe id="questions-frame" src="about:blank" title="Question Choice Boxes"></iframe>
        </div>
        
        <div class="textbox-container">
            <div class="textbox-header">Result Output / Input Area</div>
            <textarea id="main-textbox" placeholder="Selection results will appear here... You can also enter any text here"></textarea>
        </div>
        
        <div class="actions">
            <button id="submit-btn">Submit Selection</button>
            <button id="reset-btn">Reset All Choices</button>
            <button id="clear-btn">Clear Text Area</button>
        </div>
    </div>
    
    <div class="footer">
        <p>Test Page &copy; 2023 | Built with iframe and form elements</p>
    </div>

    <script>
        // Create iframe content
        document.addEventListener('DOMContentLoaded', function() {
            const iframe = document.getElementById('questions-frame');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // Create iframe content
            iframeDoc.open();
            iframeDoc.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Question Choice Boxes</title>
                    <style>
                        * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                            font-family: 'Segoe UI', Arial, sans-serif;
                        }
                        
                        body {
                            padding: 20px;
                            background-color: #fafafa;
                        }
                        
                        .questions-container {
                            display: flex;
                            flex-direction: column;
                            gap: 15px;
                        }
                        
                        .question-item {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            padding: 15px;
                            background-color: white;
                            border-radius: 8px;
                            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
                            transition: transform 0.2s, box-shadow 0.2s;
                        }
                        
                        .question-item:hover {
                            transform: translateY(-2px);
                            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
                        }
                        
                        .question-text {
                            font-size: 1.1rem;
                            font-weight: 500;
                            color: #2c3e50;
                        }
                        
                        .question-number {
                            display: inline-block;
                            width: 28px;
                            height: 28px;
                            background-color: #3498db;
                            color: white;
                            border-radius: 50%;
                            text-align: center;
                            line-height: 28px;
                            font-weight: 600;
                            margin-right: 10px;
                        }
                        
                        .options {
                            display: flex;
                            gap: 15px;
                        }
                        
                        .option {
                            display: flex;
                            align-items: center;
                            cursor: pointer;
                        }
                        
                        .option input {
                            margin-right: 8px;
                            cursor: pointer;
                        }
                        
                        .yes-option input:checked + label {
                            color: #2ecc71;
                            font-weight: 600;
                        }
                        
                        .no-option input:checked + label {
                            color: #e74c3c;
                            font-weight: 600;
                        }
                        
                        label {
                            cursor: pointer;
                            font-size: 1rem;
                            color: #555;
                            transition: color 0.2s;
                        }
                        
                        .status {
                            font-size: 0.9rem;
                            color: #7f8c8d;
                            margin-left: 10px;
                        }
                        
                        @media (max-width: 600px) {
                            .question-item {
                                flex-direction: column;
                                align-items: flex-start;
                                gap: 15px;
                            }
                            
                            .options {
                                width: 100%;
                                justify-content: space-between;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="questions-container" id="questions-container">
                        <!-- Questions will be dynamically added via JavaScript -->
                    </div>
                    
                    <script>
                        // Questions list
                        const questions = [
                            "Have you completed all testing steps?",
                            "Is the system response time within acceptable limits?",
                            "Does the interface operation meet your expectations?",
                            "Did you encounter any errors or exceptions?",
                            "Do the features meet the requirement specifications?",
                            "Does the system performance meet expected standards?",
                            "Is the user interface intuitive and easy to use?",
                            "Is the data display accurate and error-free?",
                            "Does the system security meet requirements?",
                            "Do you recommend putting this system into use?"
                        ];
                        
                        const container = document.getElementById('questions-container');
                        const mainTextbox = window.parent.document.getElementById('main-textbox');
                        
                        // Generate 10 questions
                        for (let i = 0; i < 10; i++) {
                            const questionDiv = document.createElement('div');
                            questionDiv.className = 'question-item';
                            questionDiv.id = 'question-' + (i+1);
                            
                            questionDiv.innerHTML = \`
                                <div>
                                    <span class="question-number">\${i+1}</span>
                                    <span class="question-text">\${questions[i]}</span>
                                    <span class="status" id="status-\${i+1}">Not selected</span>
                                </div>
                                <div class="options">
                                    <div class="option yes-option">
                                        <input type="radio" id="q\${i+1}-yes" name="q\${i+1}" value="yes">
                                        <label for="q\${i+1}-yes">Yes</label>
                                    </div>
                                    <div class="option no-option">
                                        <input type="radio" id="q\${i+1}-no" name="q\${i+1}" value="no">
                                        <label for="q\${i+1}-no">No</label>
                                    </div>
                                </div>
                            \`;
                            
                            container.appendChild(questionDiv);
                            
                            // Add event listeners
                            const yesRadio = questionDiv.querySelector('.yes-option input');
                            const noRadio = questionDiv.querySelector('.no-option input');
                            const statusSpan = questionDiv.querySelector('.status');
                            
                            yesRadio.addEventListener('change', function() {
                                statusSpan.textContent = "Selected: Yes";
                                statusSpan.style.color = "#2ecc71";
                                updateMainTextbox();
                            });
                            
                            noRadio.addEventListener('change', function() {
                                statusSpan.textContent = "Selected: No";
                                statusSpan.style.color = "#e74c3c";
                                updateMainTextbox();
                            });
                        }
                        
                        // Update main text area content
                        function updateMainTextbox() {
                            let results = "Question Selection Results:\\n\\n";
                            let selectedCount = 0;
                            
                            for (let i = 1; i <= 10; i++) {
                                const questionDiv = document.getElementById('question-' + i);
                                const yesRadio = questionDiv.querySelector('.yes-option input');
                                const noRadio = questionDiv.querySelector('.no-option input');
                                let answer = "Not selected";
                                
                                if (yesRadio.checked) {
                                    answer = "Yes";
                                    selectedCount++;
                                } else if (noRadio.checked) {
                                    answer = "No";
                                    selectedCount++;
                                }
                                
                                results += \`\${i}. \${questions[i-1]}\\n   Answer: \${answer}\\n\\n\`;
                            }
                            
                            results += \`\\nTotal: \${selectedCount}/10 questions selected\`;
                            mainTextbox.value = results;
                        }
                        
                        // Initial update
                        updateMainTextbox();
                    <\/script>
                </body>
                </html>
            `);
            iframeDoc.close();
        });
        
        // Main page button events
        document.getElementById('submit-btn').addEventListener('click', function() {
            alert('Selection submitted! You can view the complete results in the text area below.');
            
            // Here you can add actual submission logic
            // For example: send data to server
        });
        
        document.getElementById('reset-btn').addEventListener('click', function() {
            if (confirm('Are you sure you want to reset all selections?')) {
                const iframe = document.getElementById('questions-frame');
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Reset all radio buttons
                const radioButtons = iframeDoc.querySelectorAll('input[type="radio"]');
                radioButtons.forEach(radio => {
                    radio.checked = false;
                });
                
                // Reset status display
                const statusSpans = iframeDoc.querySelectorAll('.status');
                statusSpans.forEach(span => {
                    span.textContent = "Not selected";
                    span.style.color = "#7f8c8d";
                });
                
                // Update text area
                const mainTextbox = document.getElementById('main-textbox');
                mainTextbox.value = "All selections have been reset. Please make your selections again.\n\nQuestion Selection Results:\n\n";
                
                for (let i = 1; i <= 10; i++) {
                    mainTextbox.value += `${i}. Question ${i}\n   Answer: Not selected\n\n`;
                }
                
                mainTextbox.value += "\nTotal: 0/10 questions selected";
            }
        });
        
        document.getElementById('clear-btn').addEventListener('click', function() {
            document.getElementById('main-textbox').value = '';
        });
        
        // Add keyboard shortcut support
        document.addEventListener('keydown', function(e) {
            // Ctrl+Enter to submit
            if (e.ctrlKey && e.key === 'Enter') {
                document.getElementById('submit-btn').click();
            }
            
            // Ctrl+R to reset
            if (e.ctrlKey && e.key === 'r') {
                e.preventDefault();
                document.getElementById('reset-btn').click();
            }
            
            // Ctrl+L to clear text area
            if (e.ctrlKey && e.key === 'l') {
                e.preventDefault();
                document.getElementById('clear-btn').click();
            }
        });
    </script>
</body>
</html>